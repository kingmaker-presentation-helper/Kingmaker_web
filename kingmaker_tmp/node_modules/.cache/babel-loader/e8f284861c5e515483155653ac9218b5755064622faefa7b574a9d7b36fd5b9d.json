{"ast":null,"code":"import React,{useState,useRef,forwardRef,useImperativeHandle}from'react';import Webcam from'react-webcam';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const videoConstraints={width:540,facingMode:'environment'};const Camera=/*#__PURE__*/forwardRef((props,ref)=>{const webcamRef=useRef(null);const[captureIndex,setCaptureIndex]=useState(1);// 스크린샷 url 생성 함수\nconst capturePhoto=async()=>{const imageSrc=webcamRef.current.getScreenshot();if(imageSrc){const filename=\"\".concat(captureIndex,\".jpg\");downloadPhoto(imageSrc,filename);setCaptureIndex(captureIndex+1);}};const downloadPhoto=(url,filename)=>{const downloadLink=document.createElement('a');downloadLink.href=url;downloadLink.download=filename;document.body.appendChild(downloadLink);downloadLink.click();document.body.removeChild(downloadLink);};const onUserMedia=e=>{console.log(e);};useImperativeHandle(ref,()=>({capturePhoto}));return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Webcam,{ref:webcamRef,audio:false,screenshotFormat:\"image/jpeg\",videoConstraints:videoConstraints,onUserMedia:onUserMedia,mirrored:true})});});export default Camera;","map":{"version":3,"names":["React","useState","useRef","forwardRef","useImperativeHandle","Webcam","jsx","_jsx","Fragment","_Fragment","videoConstraints","width","facingMode","Camera","props","ref","webcamRef","captureIndex","setCaptureIndex","capturePhoto","imageSrc","current","getScreenshot","filename","concat","downloadPhoto","url","downloadLink","document","createElement","href","download","body","appendChild","click","removeChild","onUserMedia","e","console","log","children","audio","screenshotFormat","mirrored"],"sources":["C:/Users/USER/Desktop/github/Kingmaker_web/kingmaker_tmp/boot/src/pages/DuringPractice/component/camera.js"],"sourcesContent":["import React, {useState, useRef, forwardRef, useImperativeHandle} from 'react';\r\nimport Webcam from 'react-webcam';\r\n\r\nconst videoConstraints={\r\n    width:540,\r\n    facingMode: 'environment'\r\n}\r\n\r\nconst Camera = forwardRef((props, ref)=>{\r\n\r\n    const webcamRef = useRef(null);\r\n    const [captureIndex, setCaptureIndex] = useState(1);\r\n\r\n    // 스크린샷 url 생성 함수\r\n    const capturePhoto = async() => {\r\n        const imageSrc = webcamRef.current.getScreenshot();\r\n        if(imageSrc){\r\n            const filename=`${captureIndex}.jpg`;\r\n            downloadPhoto(imageSrc, filename);\r\n\r\n            setCaptureIndex(captureIndex + 1);\r\n        }\r\n    }\r\n\r\n    const downloadPhoto = (url, filename) =>{\r\n        const downloadLink = document.createElement('a');\r\n        downloadLink.href = url;\r\n        downloadLink.download = filename;\r\n        document.body.appendChild(downloadLink);\r\n        downloadLink.click();\r\n        document.body.removeChild(downloadLink);\r\n    }\r\n\r\n    const onUserMedia = (e) =>{\r\n        console.log(e)\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        capturePhoto\r\n    }));\r\n\r\n    return(\r\n        <>\r\n        <Webcam\r\n        ref={webcamRef}\r\n        audio={false}\r\n        screenshotFormat=\"image/jpeg\"\r\n        videoConstraints={videoConstraints}\r\n        onUserMedia={onUserMedia}\r\n        mirrored={true} />\r\n        </>\r\n    )\r\n});\r\n\r\nexport default Camera;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,MAAM,CAAEC,UAAU,CAAEC,mBAAmB,KAAO,OAAO,CAC9E,MAAO,CAAAC,MAAM,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElC,KAAM,CAAAC,gBAAgB,CAAC,CACnBC,KAAK,CAAC,GAAG,CACTC,UAAU,CAAE,aAChB,CAAC,CAED,KAAM,CAAAC,MAAM,cAAGV,UAAU,CAAC,CAACW,KAAK,CAAEC,GAAG,GAAG,CAEpC,KAAM,CAAAC,SAAS,CAAGd,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAACe,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAEnD;AACA,KAAM,CAAAkB,YAAY,CAAG,KAAAA,CAAA,GAAW,CAC5B,KAAM,CAAAC,QAAQ,CAAGJ,SAAS,CAACK,OAAO,CAACC,aAAa,CAAC,CAAC,CAClD,GAAGF,QAAQ,CAAC,CACR,KAAM,CAAAG,QAAQ,IAAAC,MAAA,CAAIP,YAAY,QAAM,CACpCQ,aAAa,CAACL,QAAQ,CAAEG,QAAQ,CAAC,CAEjCL,eAAe,CAACD,YAAY,CAAG,CAAC,CAAC,CACrC,CACJ,CAAC,CAED,KAAM,CAAAQ,aAAa,CAAGA,CAACC,GAAG,CAAEH,QAAQ,GAAI,CACpC,KAAM,CAAAI,YAAY,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CAChDF,YAAY,CAACG,IAAI,CAAGJ,GAAG,CACvBC,YAAY,CAACI,QAAQ,CAAGR,QAAQ,CAChCK,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,YAAY,CAAC,CACvCA,YAAY,CAACO,KAAK,CAAC,CAAC,CACpBN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,YAAY,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAS,WAAW,CAAIC,CAAC,EAAI,CACtBC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAClB,CAAC,CAEDjC,mBAAmB,CAACW,GAAG,CAAE,KAAO,CAC5BI,YACJ,CAAC,CAAC,CAAC,CAEH,mBACIZ,IAAA,CAAAE,SAAA,EAAA+B,QAAA,cACAjC,IAAA,CAACF,MAAM,EACPU,GAAG,CAAEC,SAAU,CACfyB,KAAK,CAAE,KAAM,CACbC,gBAAgB,CAAC,YAAY,CAC7BhC,gBAAgB,CAAEA,gBAAiB,CACnC0B,WAAW,CAAEA,WAAY,CACzBO,QAAQ,CAAE,IAAK,CAAE,CAAC,CAChB,CAAC,CAEX,CAAC,CAAC,CAEF,cAAe,CAAA9B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}